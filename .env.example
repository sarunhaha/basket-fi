# Basket.fi Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
NODE_ENV=development

# Application URLs
NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/basket_fi_dev
POSTGRES_DB=basket_fi_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Redis Cache
REDIS_URL=redis://:redis123@localhost:6379
REDIS_PASSWORD=redis123
REDIS_PORT=6379

# Cache TTL settings (in seconds)
CACHE_TTL_SHORT=300     # 5 minutes
CACHE_TTL_MEDIUM=1800   # 30 minutes
CACHE_TTL_LONG=3600     # 1 hour

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-key-change-in-production
SESSION_MAX_AGE=86400000  # 24 hours in milliseconds

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# WEB3 & BLOCKCHAIN
# =============================================================================

# WalletConnect Configuration
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your-walletconnect-project-id

# Ethereum RPC URLs
ETHEREUM_RPC_URL=https://eth-mainnet.alchemyapi.io/v2/your-api-key
ETHEREUM_TESTNET_RPC_URL=https://eth-goerli.alchemyapi.io/v2/your-api-key

# Contract Addresses (update with deployed contract addresses)
BASKET_FACTORY_ADDRESS=0x0000000000000000000000000000000000000000
REBALANCER_ADDRESS=0x0000000000000000000000000000000000000000

# =============================================================================
# EXTERNAL APIS
# =============================================================================

# Price Data APIs
COINGECKO_API_KEY=your-coingecko-api-key
COINGECKO_API_URL=https://api.coingecko.com/api/v3

# DEX Aggregator APIs
ONEINCH_API_KEY=your-1inch-api-key
ZEROX_API_KEY=your-0x-api-key

# =============================================================================
# OBSERVABILITY & MONITORING
# =============================================================================

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0

# OpenTelemetry Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=basket-fi
OTEL_SERVICE_VERSION=1.0.0

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# EMAIL & NOTIFICATIONS
# =============================================================================

# SMTP Configuration for email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Push Notification Configuration
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# =============================================================================
# FILE STORAGE
# =============================================================================

# AWS S3 Configuration (for file uploads, exports, etc.)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=basket-fi-uploads

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Docker Configuration
BUILD_TARGET=runner
BACKEND_PORT=3001
WEB_PORT=3000
NGINX_PORT=80
NGINX_SSL_PORT=443

# Grafana Configuration
GRAFANA_PASSWORD=admin

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles for development
ENABLE_SWAGGER_DOCS=true
ENABLE_GRAPHQL_PLAYGROUND=true
ENABLE_DEBUG_LOGGING=true
ENABLE_RATE_LIMITING=true

# Experimental features
ENABLE_MOBILE_APP=false
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_SOCIAL_FEATURES=false

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# Application Performance
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000  # 30 seconds

# Database Performance
DB_QUERY_TIMEOUT=10000  # 10 seconds
DB_STATEMENT_TIMEOUT=30000  # 30 seconds

# Cache Performance
CACHE_COMPRESSION=true
CACHE_SERIALIZATION=json

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline' https://cdn.jsdelivr.net"
CSP_STYLE_SRC="'self' 'unsafe-inline'"
CSP_IMG_SRC="'self' data: https:"

# CORS Configuration
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Basket.fi is currently under maintenance. Please try again later."

# =============================================================================
# ANALYTICS & TRACKING
# =============================================================================

# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID=G-XXXXXXXXXX

# Mixpanel Analytics
NEXT_PUBLIC_MIXPANEL_TOKEN=your-mixpanel-token

# PostHog Analytics
NEXT_PUBLIC_POSTHOG_KEY=your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com